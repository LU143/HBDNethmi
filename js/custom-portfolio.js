var resizeImage=function(e,t,i,r){var n=i/e,o=r/t,a=n>o?n:o,h=e*a,u=t*a,s=0,m=0;return u>r&&(s=(r-u)/2),h>i&&(m=(i-h)/2),{top:s,left:m,width:h,height:u}};function TzTemplateResizeImage(e){var t,i,r,n;e.each((function(e,o){i=jQuery(this).height(),t=jQuery(this).width();var a=jQuery(this).find("img").attr("src"),h=new Image;h.src=a,r=h.naturalWidth,n=h.naturalHeight;var u=new resizeImage(r,n,t,i);jQuery(this).find("img").css({top:u.top,left:u.left,width:u.width,height:u.height})}))}function tz_init(){var e,t,i=jQuery(".tz-portfolio-content").width(),r=2,n=jQuery(window).width(),o=jQuery(".tz-portfolio-content").attr("data-option-column");n>=992?r=o:n>=768||n>=480?r=2:n<480&&(r=1),e=Math.floor(i/r),jQuery(".element").height(),t=2*e,jQuery(".element").css({width:e+"px"}),jQuery(".tz_feature_item, .tz-landscape").width(t),jQuery(".tz-portrait").css("height","560px");var a=jQuery(".tz-portfolio-content");a.imagesLoaded((function(){a.isotope({masonry:{columnWidth:e}})})),jQuery(".portfolio-padding").each((function(){var e=(jQuery(this).height()-jQuery(this).find(".tzitem-content").height())/2;jQuery(this).find(".tzitem-content").css("top",e+"px")})),TzTemplateResizeImage(jQuery(".item-image"))}var resizeTimer=null;jQuery(window).bind("load resize",(function(){resizeTimer&&clearTimeout(resizeTimer),resizeTimer=setTimeout("tz_init()",100)}));